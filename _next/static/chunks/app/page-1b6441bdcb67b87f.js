(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[974],{2977:(e,t,s)=>{Promise.resolve().then(s.bind(s,9809))},9809:(e,t,s)=>{"use strict";s.r(t),s.d(t,{default:()=>y});var l=s(5155),o=s(2115),a=s(8998),i=s(9561),n=s(4665),r=s(2479),c=s(7219),d=s(2282),h=s(4918),u=s(2738),x=s(894),f=s(3536),p=s(6153),j=s(9545),b=s(450);let A="http://192.168.1.10:4000/todos";function y(){let[e,t]=(0,o.useState)([]),[s,y]=(0,o.useState)(""),[m,C]=(0,o.useState)(null),[g,k]=(0,o.useState)(!1),[w,v]=(0,o.useState)(null),[S,T]=(0,o.useState)(""),[E,F]=(0,o.useState)(!1),O=(0,o.useCallback)(async()=>{try{let e=await fetch(A);if(!e.ok)throw Error("Failed to fetch tasks");let s=await e.json();t(s)}catch(e){D(e.message)}},[]);(0,o.useEffect)(()=>{O()},[O]);let _=async()=>{if(s.trim())try{let l;if(m)await fetch("".concat(A,"/").concat(m.id),{method:"PUT",headers:{"Content-Type":"application/json"},body:JSON.stringify({title:s})}),l=e.map(e=>e.id===m.id?{...e,title:s}:e);else{let t=await fetch(A,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({title:s})}),o=await t.json();l=[...e,o]}t(l),y(""),C(null)}catch(e){D("Failed to save task")}},N=async()=>{if(w)try{await fetch("".concat(A,"/").concat(w.id),{method:"DELETE"}),t(e.filter(e=>e.id!==w.id)),I()}catch(e){D("Failed to delete task")}},P=e=>{v(e),k(!0)},I=()=>{v(null),k(!1)},B=e=>{y(e.title),C(e)},D=e=>{T(e),F(!0)};return(0,l.jsx)(a.A,{sx:{p:3,bgcolor:"#171a1d",minHeight:"100vh",display:"flex",justifyContent:"center",alignItems:"center"},children:(0,l.jsxs)(a.A,{sx:{maxWidth:600,width:"100%"},children:[(0,l.jsx)(i.A,{variant:"h4",color:"success.main",textAlign:"center",gutterBottom:!0,children:"Todo App"}),(0,l.jsx)(n.A,{sx:{bgcolor:"#2c353d",p:3,borderRadius:2,boxShadow:3},children:(0,l.jsxs)(r.A,{children:[(0,l.jsx)(c.A,{fullWidth:!0,label:"Enter Task",variant:"outlined",value:s,onChange:e=>y(e.target.value),sx:{bgcolor:"#1f262e",mb:2,"& .MuiInputBase-root":{color:"#fff"},"& .MuiOutlinedInput-notchedOutline":{borderColor:"#fff"}},InputLabelProps:{style:{color:"#fff"}}}),(0,l.jsx)(d.A,{fullWidth:!0,variant:"contained",color:"success",onClick:_,sx:{mb:2,bgcolor:"#4CAF50","&:hover":{bgcolor:"#45a049"}},children:m?"✏️ Update Task":"➕ Add Task"})]})}),(0,l.jsx)(a.A,{sx:{mt:3},children:(0,l.jsx)(h.A,{children:e.map(e=>(0,l.jsx)(n.A,{sx:{mb:2,bgcolor:"#2c353d",borderRadius:2,boxShadow:3},children:(0,l.jsxs)(r.A,{sx:{display:"flex",justifyContent:"space-between"},children:[(0,l.jsx)(u.A,{primary:e.title,primaryTypographyProps:{style:{color:"#fff"}}}),(0,l.jsxs)(a.A,{sx:{display:"flex",gap:1},children:[(0,l.jsx)(x.A,{onClick:()=>B(e),sx:{color:"#1BA94C"},children:(0,l.jsx)(j.A,{})}),(0,l.jsx)(x.A,{onClick:()=>P(e),sx:{color:"#FF5252"},children:(0,l.jsx)(b.A,{})})]})]})},e.id))})}),(0,l.jsx)(f.A,{open:g,onClose:I,"aria-labelledby":"modal-title",children:(0,l.jsxs)(a.A,{sx:{position:"absolute",top:"50%",left:"50%",transform:"translate(-50%, -50%)",bgcolor:"#2c353d",p:3,borderRadius:2,width:300},children:[(0,l.jsx)(i.A,{variant:"h6",color:"white",mb:2,id:"modal-title",children:"Are you sure you want to delete this task?"}),(0,l.jsxs)(a.A,{sx:{display:"flex",justifyContent:"space-between"},children:[(0,l.jsx)(d.A,{onClick:I,sx:{color:"#fff"},children:"Cancel"}),(0,l.jsx)(d.A,{onClick:N,sx:{color:"#FF5252"},children:"Delete"})]})]})}),(0,l.jsx)(p.A,{open:E,autoHideDuration:6e3,onClose:()=>F(!1),message:S})]})})}}},e=>{var t=t=>e(e.s=t);e.O(0,[452,590,441,517,358],()=>t(2977)),_N_E=e.O()}]);